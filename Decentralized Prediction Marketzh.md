# **N42 å…¬é“¾é¢„æµ‹å¸‚åœºæ¥å£è®¾è®¡**

## **1. é¢„æµ‹å¸‚åœºæ¦‚è¿°**
N42 ä½œä¸º**å…¼å®¹ EVM çš„é«˜æ€§èƒ½å…¬é“¾**ï¼Œå¯æ”¯æŒå»ä¸­å¿ƒåŒ–é¢„æµ‹å¸‚åœºï¼ˆDecentralized Prediction Marketï¼‰ï¼Œå…è®¸ç”¨æˆ·å¯¹**äº‹ä»¶ã€é‡‘èå¸‚åœºã€ä½“è‚²ã€æ”¿æ²»ç­‰**æœªæ¥ç»“æœè¿›è¡ŒæŠ¼æ³¨ï¼Œå¹¶é€šè¿‡æ™ºèƒ½åˆçº¦ç¡®ä¿å…¬å¹³äº¤æ˜“ã€‚  

**ä¸»è¦ç‰¹ç‚¹ï¼š**
âœ… **æ™ºèƒ½åˆçº¦é©±åŠ¨**ï¼šå®Œå…¨å»ä¸­å¿ƒåŒ–ï¼Œä¾èµ–åŒºå—é“¾æ‰§è¡Œ  
âœ… **EVM å…¼å®¹**ï¼šå¯å¤ç”¨ç°æœ‰ Ethereum é¢„æµ‹å¸‚åœºï¼ˆå¦‚ Augurã€Polymarketï¼‰  
âœ… **ä½ Gas è´¹ç”¨**ï¼šé€‚åˆå¤§è§„æ¨¡ç”¨æˆ·å‚ä¸  
âœ… **é¢„è¨€æœºæ”¯æŒ**ï¼šé€šè¿‡**é“¾ä¸Šé¢„è¨€æœºï¼ˆOracleï¼‰**è·å–ç»“æœ  

---

## **2. é¢„æµ‹å¸‚åœºçš„æ ¸å¿ƒæ¥å£**
### **ï¼ˆ1ï¼‰å¸‚åœºåˆ›å»º**
ç”¨æˆ·æˆ–é¡¹ç›®æ–¹å¯ä»¥åˆ›å»ºæ–°çš„é¢„æµ‹å¸‚åœºï¼Œæä¾›å¯æŠ¼æ³¨çš„äº‹ä»¶é€‰é¡¹ã€‚

ğŸ“Œ **ç¤ºä¾‹ï¼š2024å¹´ç¾å›½å¤§é€‰èµ¢å®¶ï¼Ÿ**
- é€‰é¡¹ 1ï¸âƒ£ï¼šå€™é€‰äºº A  
- é€‰é¡¹ 2ï¸âƒ£ï¼šå€™é€‰äºº B  
- é€‰é¡¹ 3ï¸âƒ£ï¼šå…¶ä»–  

#### **åˆ›å»ºé¢„æµ‹å¸‚åœº**
```solidity
function createMarket(
    string memory _eventName,    // äº‹ä»¶åç§°
    string[] memory _outcomes,   // å¯èƒ½çš„ç»“æœ
    uint256 _endTimestamp,       // å¸‚åœºç»“æŸæ—¶é—´
    address _oracle              // é¢„è¨€æœºåœ°å€
) external returns (uint256 marketId);
```
ğŸ“Œ **è¿”å›ï¼š`marketId`ï¼ˆå¸‚åœºç¼–å·ï¼‰ï¼Œç”¨äºåç»­æŸ¥è¯¢**  

---

### **ï¼ˆ2ï¼‰å‚ä¸é¢„æµ‹**
ç”¨æˆ·å¯ä»¥åœ¨å¸‚åœºå¼€æ”¾æœŸé—´æŠ¼æ³¨æŸä¸ªé€‰é¡¹ï¼Œå¹¶å­˜å…¥æŠ¼é‡‘ï¼ˆStakeï¼‰ã€‚

#### **ç”¨æˆ·æŠ¼æ³¨**
```solidity
function placeBet(
    uint256 _marketId,   // é¢„æµ‹å¸‚åœº ID
    uint256 _outcomeId,  // é€‰é¡¹ ID
    uint256 _amount      // æŠ¼æ³¨é‡‘é¢
) external;
```
ğŸ“Œ **æŠ¼æ³¨åï¼Œèµ„é‡‘é”å®šåœ¨æ™ºèƒ½åˆçº¦ï¼Œç­‰å¾…äº‹ä»¶ç»“æœ**  

---

### **ï¼ˆ3ï¼‰æŸ¥è¯¢å¸‚åœºä¿¡æ¯**
#### **è·å–å¸‚åœºè¯¦æƒ…**
```solidity
function getMarketInfo(uint256 _marketId) external view returns (
    string memory eventName,
    string[] memory outcomes,
    uint256 totalPool,
    uint256 endTimestamp,
    bool isResolved
);
```
ğŸ“Œ **ç”¨äºå‰ç«¯å±•ç¤ºé¢„æµ‹å¸‚åœºä¿¡æ¯**  

#### **è·å–å¸‚åœºé€‰é¡¹çš„å½“å‰æŠ•æ³¨æ€»é¢**
```solidity
function getOutcomePool(uint256 _marketId, uint256 _outcomeId) external view returns (uint256);
```
ğŸ“Œ **ç”¨äºæ˜¾ç¤ºæ¯ä¸ªé€‰é¡¹çš„èµ„é‡‘æ± **  

---

### **ï¼ˆ4ï¼‰å¸‚åœºç»“ç®—**
é¢„æµ‹å¸‚åœºåœ¨**äº‹ä»¶ç»“æŸå**ï¼Œéœ€è¦ä»é¢„è¨€æœºè·å–ç»“æœå¹¶åˆ†é…èµ„é‡‘ã€‚

#### **é¢„è¨€æœºæ¨é€æœ€ç»ˆç»“æœ**
```solidity
function reportOutcome(
    uint256 _marketId,
    uint256 _winningOutcome
) external onlyOracle;
```
ğŸ“Œ **åªæœ‰é¢„è¨€æœºï¼ˆOracleï¼‰åœ°å€å¯ä»¥è°ƒç”¨ï¼Œç¡®ä¿å¸‚åœºå…¬å¹³ç»“ç®—**  

#### **åˆ†é…èµ„é‡‘**
```solidity
function claimWinnings(uint256 _marketId) external;
```
ğŸ“Œ **èƒœè€…é¢†å–å¥–åŠ±ï¼Œèµ„é‡‘æ± æŒ‰æ¯”ä¾‹åˆ†é…**  

---

### **ï¼ˆ5ï¼‰é€€æ¬¾æœºåˆ¶**
è‹¥å¸‚åœºå› ç‰¹æ®ŠåŸå› **æ— æ•ˆ**ï¼ˆé¢„è¨€æœºå¤±è´¥ã€å¸‚åœºå´©æºƒï¼‰ï¼Œç”¨æˆ·å¯ç”³è¯·é€€æ¬¾ã€‚

#### **å¸‚åœºæ— æ•ˆæ—¶é€€æ¬¾**
```solidity
function requestRefund(uint256 _marketId) external;
```
ğŸ“Œ **èµ„é‡‘å°†é€€è¿˜ç»™æ‰€æœ‰å‚ä¸è€…**  

---

## **3. é¢„è¨€æœºï¼ˆOracleï¼‰æ¥å£**
é¢„æµ‹å¸‚åœºçš„ç»“ç®—ä¾èµ–**é¢„è¨€æœºæä¾›çš„çœŸå®æ•°æ®**ã€‚

âœ… **å¯é€‰æ–¹æ¡ˆ**ï¼š
1ï¸âƒ£ **é“¾ä¸Šé¢„è¨€æœºï¼ˆChainlinkã€Pythã€DIAï¼‰**  
2ï¸âƒ£ **å»ä¸­å¿ƒåŒ–é¢„è¨€æœºï¼ˆAugurã€Gnosisï¼‰**  
3ï¸âƒ£ **ç¤¾åŒºæŠ•ç¥¨ï¼ˆå¦‚ Kleros ä»²è£ï¼‰**  

#### **è·å–äº‹ä»¶ç»“æœ**
```solidity
function fetchEventResult(uint256 _marketId) external view returns (uint256);
```
ğŸ“Œ **é¢„è¨€æœºå®šæœŸæ›´æ–°äº‹ä»¶çŠ¶æ€ï¼Œå¸‚åœºæ ¹æ®è¯¥æ¥å£è·å–æœ€ç»ˆç»“æœ**  

---

## **4. Web3 äº¤äº’ç¤ºä¾‹**
é¢„æµ‹å¸‚åœºçš„å‰ç«¯å¯ä»¥ä½¿ç”¨ **Web3.js / Ethers.js** è¿›è¡Œäº¤äº’ï¼š

### **ï¼ˆ1ï¼‰åˆ›å»ºå¸‚åœº**
```javascript
const contract = new ethers.Contract(marketAddress, MarketABI, signer);
await contract.createMarket(
  "2024å¹´ç¾å›½å¤§é€‰èµ¢å®¶ï¼Ÿ",
  ["å€™é€‰äºº A", "å€™é€‰äºº B", "å…¶ä»–"],
  Math.floor(Date.now() / 1000) + 604800, // ä¸€å‘¨åç»“æŸ
  oracleAddress
);
```

### **ï¼ˆ2ï¼‰ç”¨æˆ·æŠ¼æ³¨**
```javascript
await contract.placeBet(marketId, outcomeId, ethers.utils.parseUnits("10", "ether"));
```

### **ï¼ˆ3ï¼‰æŸ¥è¯¢å¸‚åœºä¿¡æ¯**
```javascript
const marketInfo = await contract.getMarketInfo(marketId);
console.log(`å¸‚åœºï¼š${marketInfo.eventName}`);
console.log(`é€‰é¡¹ï¼š${marketInfo.outcomes.join(", ")}`);
```

### **ï¼ˆ4ï¼‰é¢†å–å¥–åŠ±**
```javascript
await contract.claimWinnings(marketId);
```

---

## **5. é€‚ç”¨çš„é¢„æµ‹å¸‚åœºåº”ç”¨**
ğŸ”¹ **é‡‘èå¸‚åœºé¢„æµ‹**ï¼ˆBTC ä»·æ ¼æ˜¯å¦çªç ´ $100,000ï¼Ÿï¼‰  
ğŸ”¹ **ä½“è‚²æ¯”èµ›**ï¼ˆä¸–ç•Œæ¯å† å†›é¢„æµ‹ï¼‰  
ğŸ”¹ **æ”¿æ²»äº‹ä»¶**ï¼ˆ2024å¹´å¤§é€‰èµ¢å®¶ï¼Ÿï¼‰  
ğŸ”¹ **ç§‘æŠ€å‘å±•**ï¼ˆAI ä»€ä¹ˆæ—¶å€™è¶…è¶Šäººç±»æ™ºèƒ½ï¼Ÿï¼‰  

---

## **6. ç»“è®º**
âœ… **N42 æ”¯æŒ EVM å…¼å®¹æ™ºèƒ½åˆçº¦ï¼Œå¯å¿«é€Ÿéƒ¨ç½²é¢„æµ‹å¸‚åœº**  
âœ… **ä½ Gas è´¹ã€é«˜ TPS é€‚ç”¨äºå¤§è§„æ¨¡æŠ•æ³¨å’Œç»“ç®—**  
âœ… **é¢„è¨€æœºæ¥å£ä¿éšœç»“æœå…¬æ­£ï¼Œå¯æ”¯æŒé“¾ä¸Šæ•°æ®ä¸ç¤¾åŒºæ²»ç†**  
âœ… **é€‚ç”¨äºé‡‘èã€ä½“è‚²ã€æ”¿æ²»ç­‰å¤šç§é¢„æµ‹åº”ç”¨åœºæ™¯** ğŸš€

ğŸ‘‰ **å¼€å‘è€…å¯ä»¥ç›´æ¥ä½¿ç”¨ Solidity + Web3 è¿›è¡Œé›†æˆï¼Œè®©é¢„æµ‹å¸‚åœºæ— ç¼è¿è¡Œåœ¨ N42 ç”Ÿæ€ï¼** ğŸ¯
